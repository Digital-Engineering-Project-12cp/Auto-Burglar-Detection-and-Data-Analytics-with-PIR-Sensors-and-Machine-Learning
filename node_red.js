[{"id":"537ee7e5.ce8f48","type":"function","z":"3aa2a631.246cea","name":"Batching_Naming","func":"var home=0;\nvar motion = 0;\n\n// For todays date;\nDate.prototype.today = function () { \n    return ((this.getDate() < 10)?\"0\":\"\") + this.getDate() +\"/\"+(((this.getMonth()+1) < 10)?\"0\":\"\") + (this.getMonth()+1) +\"/\"+ this.getFullYear();\n}\n\n// For the time now\nDate.prototype.timeNow = function () {\n     return ((this.getHours() < 10)?\"0\":\"\") + this.getHours() +\":\"+ ((this.getMinutes() < 10)?\"0\":\"\") + this.getMinutes() +\":\"+ ((this.getSeconds() < 10)?\"0\":\"\") + this.getSeconds();\n}\n\nvar newDate = new Date();\nvar date = newDate.today() \nvar time = newDate.timeNow();\n\n\n\n\nswitch (msg.payload){\n    case \"Motion/Away\":\n          motion = 1;\n          var msgJson = JSON.stringify({ date: date,time:time,home: home, motion: motion});\n          msg.payload=msgJson;\n          break;\n          \n          \n    case \"Motion/Home\":\n          motion = 1;\n          home = 1;\n          var msgJson1 = JSON.stringify({ date: date,time: time,home: home, motion: motion});\n          msg.payload=msgJson1;\n          break;\n    default:\n          var msgJson2 = JSON.stringify({ date: date,time: time,home: home, motion: motion});\n          msg.payload=msgJson2;\n          break;\n    \n    \n}\nreturn msg;\n\n\n\n\n\n","outputs":1,"noerr":0,"x":610,"y":400,"wires":[["6c3fec42.285f44"]]}]
